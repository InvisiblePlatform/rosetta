<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width" />
<link href="https://unpkg.com/@csstools/normalize.css" rel="stylesheet" />    
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/generic.css">

<script>document.write('<link href="/css/plugin-styles.css?dev=' + Math.floor(Math.random() * 100) + '" rel="stylesheet"/>');</script>
<title>Invisible Voice - {{ .Params.title }}</title>
</head>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/@andreasremdt/simple-translator@latest/dist/umd/translator.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js" defer></script>
<script src="/js/module-loading.js" defer></script>
<script src="/js/translations.js" defer></script>

<div id="location-url" style="display:none;">/ds/core/{{ path.Base .RelPermalink }}.json</div>
{{- if isset .Params "wikidataid" -}}
{{- $ids := newScratch -}}
{{- $ids.Add "count" 0 -}}
{{- range .Params.wikidataid -}}
{{- $count := $ids.Get "count" -}}
{{- $ids.Set (string $count) (int (replace . "Q" "" )) -}}
{{- $ids.Add "count" 1 -}}
{{- end -}}
{{- $ids.Delete "count" -}}
<div id="wikidataid" style="display:none;">Q{{- index (sort $ids.Values "value" "asc") 0 -}}</div>
{{- end -}}
{{- if isset .Params "wikidata_id" -}}
{{- if ne .Params.wikidata_id false }}
{{- $ids := newScratch -}}
{{- $ids.Add "count" 0 -}}
{{- range .Params.wikidata_id -}}
{{- $count := $ids.Get "count" -}}
{{- $ids.Set (string $count) (int (replace . "Q" "" )) -}}
{{- $ids.Add "count" 1 -}}
{{- end -}}
{{- $ids.Delete "count" -}}
<div id="wikidataid" style="display:none;">Q{{- index (sort $ids.Values "value" "asc") 0 -}}</div>
 
{{- end -}}
{{- end -}}
<section id="titlebar">
<button id="roundelButton" type="button" onclick="spinRoundel()"></button>
<button id="backButton" type="button" onclick="justSendBack()"></button>
<span class="bk-bg co-name hideInSmall">{{ .Params.title }}</span>
<button id="settingsButton" type="button" onclick="loadSettings()"><div></div></button>
<button id="closeButton" type="button"><div></div></button>
</section>
<div id="settings">
<h2 data-i18n="settings.title" class="sectionTitle">Settings</h2>
{{- partialCached "translation_picker.html" . -}}
</div>
<div class="content">
<span class="blankForSmall" style="order:0;"> </span>
{{- partialCached "tools.html" .Params.title .Params.title -}}
{{- if isset .Params "connections" -}}{{- partialCached "d3-graph.html" .Params.connections .Params.connections -}}{{- end -}}
{{- if isset .Params "goodonyou" -}}{{- partialCached "goodonyou.html" .Params.goodonyou .Params.goodonyou -}}{{- end -}}
{{- if isset .Params "glassdoor" -}}{{- partialCached "glassdoor.html" .Params.glassdoor .Params.glassdoor -}}{{- end -}}
{{- if isset .Params "bcorp" -}}{{- partialCached "bcorp.html" .Params.bcorp .Params.bcorp -}}{{- end -}}
{{- if isset .Params "ticker" -}}{{- range .Params.ticker -}}{{- partialCached "yahoo.html" . . -}}{{- end -}}{{- end -}}
{{- if isset .Params "isin" -}}{{- range .Params.isin -}}{{- partialCached "isin.html" . . -}}{{- end -}}{{- end -}}
{{- if isset .Params "isin_id" -}}{{- range .Params.isin_id -}}{{- partialCached "isin-id.html" . . -}}{{- end -}}{{- end -}}
{{- partialCached "trustpilot.html" .Params.title .Params.title -}}
{{- if isset .Params "mbfc" -}}
<!-- MediaBiasFactCheck -->
{{- if isset .Params.mbfc "bias" -}}
{{- $bias := .Params.mbfc.bias -}}
<section id="mbfc-header" class="contentSection">
    <h2 class="sectionTitle"><div data-i18n="mbfc.title">Media Bias</div><div class="subname">({{- .Params.mbfc.name -}})</div></h2>
    <div class="pie hideTilExpanded"></div>
    <score class="biaslink" data-i18n="bias.{{- $bias -}}">{{- $bias | title -}}</score>
    <div class="scoreText">
        <div>
            <h3 data-i18n="bias.{{- $bias -}}">{{- $bias | title -}}</h3>
            {{- if isset .Params.mbfc "description" -}}
            <p>{{- .Params.mbfc.description -}}</p>
            <br />{{- end -}}
            <p><b data-i18n="bias.popularity">Popularity:</b> {{- .Params.mbfc.popularity -}}</p>
            <p><b data-i18n="bias.credibility">Credibility:</b> {{- .Params.mbfc.credibility | title -}}</p>
            <p><b data-i18n="bias.reporting">Reporting:</b> {{- .Params.mbfc.reporting | title -}}</p>
            {{- if .Params.mbfc.questionable -}}
            <p><b data-i18n="bias.questionable">Reasons for Questionable:</b> {{- delimit .Params.mbfc.questionable ", " | title -}}</p>
            {{- end -}}
            <a target="_blank" class="source blanksource" href="{{- .Params.mbfc.url -}}">MEDIA BIAS FACT CHECKER</a>
        </div>
    </div>
</section>
{{- end -}}
{{- end -}}
{{- with .Params.tosdr -}}{{- partialCached "tosdr.html" . .  -}}{{- end -}}
{{- if isset .Params "polideology" -}}{{- range .Params.polideology -}}{{- partial "wikidata.html" . . -}}{{- end -}}{{- end -}}
{{- if isset .Params "polalignment" -}}{{- range .Params.polalignment -}}{{- partial "wikidata.html" . . -}}{{- end -}}{{- end -}}
{{- if isset .Params "osid" -}}{{- partial "opensecrets.html" .Params.osid .Params.osid -}}{{- end -}}
{{- if isset .Params "trustscore" -}}
{{- $trust := .Params.trustscore -}}
<section id="trust-scam" class="contentSection">
    <h2 class="sectionTitle"><div data-i18n="trustsc.title">Trust Scam</div><div class="subname">({{- .Params.trustscore.domain -}})</div></h2>
    <div class="pie hideTilExpanded"></div>
    <score class="biaslink">{{- $trust.score -}}</score>
    <div class="scoreText">
        <div>
            <h3>{{- $trust.score -}}</h3>
            <p data-i18n="trustsc.{{- $trust.rating -}}">{{- $trust.rating -}}</p>
            <a target="_blank" class="source blanksource" href="https://trustscam.com/{{- $trust.domain -}}">TRUSTSCAM</a>
        </div>
    </div>
</section>
{{- end -}}

{{- $socialParams := slice "twittername" "subreddit" "facebookid" "facebookpage" "instagramid" "youtubechannelid" "truthsocial" "parleruser" "gabuser" "soundcloud" "tumblr" "medium" "telegram" "mastodon" "patreon" "reddituser" "twitch" "tiktok" "officialblog" "emailaddress" -}}
{{- $paramsSlice := slice -}}

{{- range $key, $value := .Params -}}
  {{- $paramsSlice = $paramsSlice | append $key -}}
{{- end -}}

{{- $commonParams := intersect $paramsSlice $socialParams -}}
{{- if gt (len $commonParams) 0 -}}
<section id="social-wikidata" class="contentSection">
<h2 class='sectionTitle' data-i18n="w.socialmedia">Social Media and Email</h2>
<section id="social-links">
<table>
{{- range $param := $commonParams -}}
 {{- $value := index $.Params $param -}}
 {{- if or (eq $param "officialblog") (eq $param "emailaddress") -}}
      {{- partialCached "wikidata-link.html" $value $value -}}
    {{- else -}}
      {{- partialCached "wikidata-social.html" $value $value -}}
    {{- end -}}
  {{- end -}}
</table>
</section>
</section>
{{- else -}}
{{- end -}}

{{- partialCached "similar.html" .Params.title .Params.title -}}
<span class="blankForSmall hideInSmall vbb" style="order:101;"> </span>
<span class="blankForSmall hideInSmall vbb" style="order:101;"> </span>
<section id="Invisible-vote" class="hideInSmall hide">
<section id="Invisible-like" onclick="vote('up')" style="--count:'0';" data-i18n="vote.like">Like</section>
<section id="Invisible-dislike" onclick="vote('down')" style="--count:'0';" data-i18n="vote.dislike">Dislike</section>
</section>
<section id="Invisible-boycott" data-i18n="vote.boycott" class="hideInSmall hide">Boycott</section>
  {{- .Content -}}
</div>
<section id="disclaimer" style="order: 100;"><h2><div class="hideInSmall invisible-disclaimer-title">Invisible Voice</div> <div data-i18n='header.titledisclaimer' class="invisible-disclaimer-title">Disclaimer</div></h2><p class="disclaimer-text" data-i18n="header.disclaimer"></p><p data-i18n="header.dislcaimerNote" class="disclaimer-text">If you believe any of the information displayed is incorrect, you can contact the source of the information</p> <a class="hideInSmall" data-i18n="header.here" href="#">here.</a></section>
</div>
<!-- <script src="/js/single.js" defer></script> -->
<script>document.write('<script src="/js/single.js?dev=' + Math.floor(Math.random() * 100) + '" defer\><\/script>');</script>
</html>
